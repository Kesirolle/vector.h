<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Ion: ion::base::ZipAssetManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ion
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classion_1_1base_1_1_zip_asset_manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classion_1_1base_1_1_zip_asset_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ion::base::ZipAssetManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html" title="ZipAssetManager manages all zipfile assets in Ion. ">ZipAssetManager</a> manages all zipfile assets in Ion.  
 <a href="classion_1_1base_1_1_zip_asset_manager.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="zipassetmanager_8h_source.html">zipassetmanager.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae674f1ca23e51be37ac406709ede0d37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ae674f1ca23e51be37ac406709ede0d37">~ZipAssetManager</a> ()</td></tr>
<tr class="memdesc:ae674f1ca23e51be37ac406709ede0d37"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor is public so that the <a class="el" href="classion_1_1base_1_1_static_deleter.html" title="This class should not be used directly. ">StaticDeleter</a> that destroys the manager can access it.  <a href="#ae674f1ca23e51be37ac406709ede0d37">More...</a><br/></td></tr>
<tr class="separator:ae674f1ca23e51be37ac406709ede0d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aeba016f307839373110a520787fd3b72"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#aeba016f307839373110a520787fd3b72">RegisterAssetData</a> (const void *data, <a class="el" href="classsize__t.html">size_t</a> data_size)</td></tr>
<tr class="memdesc:aeba016f307839373110a520787fd3b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a data pointer with a certain length with the manager.  <a href="#aeba016f307839373110a520787fd3b72">More...</a><br/></td></tr>
<tr class="separator:aeba016f307839373110a520787fd3b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ac49c746ea072522ffcbe29a442edc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ab3ac49c746ea072522ffcbe29a442edc">ContainsFile</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:ab3ac49c746ea072522ffcbe29a442edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the manager contains the passed filename.  <a href="#ab3ac49c746ea072522ffcbe29a442edc">More...</a><br/></td></tr>
<tr class="separator:ab3ac49c746ea072522ffcbe29a442edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1070c8b8186f0fe478574ce3934a1853"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#a1070c8b8186f0fe478574ce3934a1853">IsFileCached</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a1070c8b8186f0fe478574ce3934a1853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the file is cached in the manager.  <a href="#a1070c8b8186f0fe478574ce3934a1853">More...</a><br/></td></tr>
<tr class="separator:a1070c8b8186f0fe478574ce3934a1853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3472ed97bdc8c2d4f4e2812d62b70370"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#a3472ed97bdc8c2d4f4e2812d62b70370">GetRegisteredFileNames</a> ()</td></tr>
<tr class="memdesc:a3472ed97bdc8c2d4f4e2812d62b70370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of registered filenames.  <a href="#a3472ed97bdc8c2d4f4e2812d62b70370">More...</a><br/></td></tr>
<tr class="separator:a3472ed97bdc8c2d4f4e2812d62b70370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794cfdfe38a87e91ca3cf580aa02fbe7"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; const <br class="typebreak"/>
std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#a794cfdfe38a87e91ca3cf580aa02fbe7">GetFileDataPtr</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a794cfdfe38a87e91ca3cf580aa02fbe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the shared pointer to the data of the passed filename if the manager contains it.  <a href="#a794cfdfe38a87e91ca3cf580aa02fbe7">More...</a><br/></td></tr>
<tr class="separator:a794cfdfe38a87e91ca3cf580aa02fbe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8896dd2df7c9cd65241835ce0ad9ca7"><td class="memItemLeft" align="right" valign="top">static const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ac8896dd2df7c9cd65241835ce0ad9ca7">GetFileData</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:ac8896dd2df7c9cd65241835ce0ad9ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the data of the passed filename if the manager contains it.  <a href="#ac8896dd2df7c9cd65241835ce0ad9ca7">More...</a><br/></td></tr>
<tr class="separator:ac8896dd2df7c9cd65241835ce0ad9ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d9a3fa1b6be41288d54aeb508b0cc9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#a75d9a3fa1b6be41288d54aeb508b0cc9">GetFileDataNoCache</a> (const std::string &amp;filename, std::string *out)</td></tr>
<tr class="memdesc:a75d9a3fa1b6be41288d54aeb508b0cc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">As above but the decompressed bytes are not internally cached.  <a href="#a75d9a3fa1b6be41288d54aeb508b0cc9">More...</a><br/></td></tr>
<tr class="separator:a75d9a3fa1b6be41288d54aeb508b0cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3febd8c88bb42b9ca4845c217c0ff113"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#a3febd8c88bb42b9ca4845c217c0ff113">UpdateFileIfChanged</a> (const std::string &amp;filename, std::chrono::system_clock::time_point *timestamp)</td></tr>
<tr class="memdesc:a3febd8c88bb42b9ca4845c217c0ff113"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the source file of a zipped file is available on disk (based on the file's manifest), this function updates the cached unzipped data from the source file if it has changed since the data was registered and the source file is readable.  <a href="#a3febd8c88bb42b9ca4845c217c0ff113">More...</a><br/></td></tr>
<tr class="separator:a3febd8c88bb42b9ca4845c217c0ff113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b2c39f0d42856fa29bb431db09257e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#a21b2c39f0d42856fa29bb431db09257e">SetFileData</a> (const std::string &amp;filename, const std::string &amp;source)</td></tr>
<tr class="memdesc:a21b2c39f0d42856fa29bb431db09257e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the data of the passed filename if the manager contains it.  <a href="#a21b2c39f0d42856fa29bb431db09257e">More...</a><br/></td></tr>
<tr class="separator:a21b2c39f0d42856fa29bb431db09257e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae751230dfb005615f08aa7fde0f5fe36"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ae751230dfb005615f08aa7fde0f5fe36">SaveFileData</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:ae751230dfb005615f08aa7fde0f5fe36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to save the latest cached data of the passed filename back to the original source file on disk, using the name in the internal manifest.  <a href="#ae751230dfb005615f08aa7fde0f5fe36">More...</a><br/></td></tr>
<tr class="separator:ae751230dfb005615f08aa7fde0f5fe36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae219a57a726224de1d47e470c8a2c14b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ae219a57a726224de1d47e470c8a2c14b">Reset</a> ()</td></tr>
<tr class="memdesc:ae219a57a726224de1d47e470c8a2c14b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the manager back to its initial, empty state.  <a href="#ae219a57a726224de1d47e470c8a2c14b">More...</a><br/></td></tr>
<tr class="separator:ae219a57a726224de1d47e470c8a2c14b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html" title="ZipAssetManager manages all zipfile assets in Ion. ">ZipAssetManager</a> manages all zipfile assets in Ion. </p>
<p>Assets are registered through <a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#aeba016f307839373110a520787fd3b72" title="Registers a data pointer with a certain length with the manager. ">RegisterAssetData()</a>, which extracts all file names from the zip and adds them to its registry. Use <a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ac8896dd2df7c9cd65241835ce0ad9ca7" title="Returns the data of the passed filename if the manager contains it. ">GetFileData()</a> to return the data of a file. Files are only extracted the first time they are requested through <a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ac8896dd2df7c9cd65241835ce0ad9ca7" title="Returns the data of the passed filename if the manager contains it. ">GetFileData()</a>; file contents are cached internally after extraction.</p>
<dl class="section note"><dt>Note</dt><dd>zip assets must be explicitly registered through <a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#aeba016f307839373110a520787fd3b72" title="Registers a data pointer with a certain length with the manager. ">RegisterAssetData()</a>. </dd></dl>

<p>Definition at line <a class="el" href="zipassetmanager_8h_source.html#l00042">42</a> of file <a class="el" href="zipassetmanager_8h_source.html">zipassetmanager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae674f1ca23e51be37ac406709ede0d37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ion::base::ZipAssetManager::~ZipAssetManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The destructor is public so that the <a class="el" href="classion_1_1base_1_1_static_deleter.html" title="This class should not be used directly. ">StaticDeleter</a> that destroys the manager can access it. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00046">46</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

<p>References <a class="el" href="zipassetmanager_8cc_source.html#l00242">Reset()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab3ac49c746ea072522ffcbe29a442edc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ion::base::ZipAssetManager::ContainsFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the manager contains the passed filename. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00120">120</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac8896dd2df7c9cd65241835ce0ad9ca7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; ion::base::ZipAssetManager::GetFileData </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the data of the passed filename if the manager contains it. </p>
<p>If there is any error while decompressing the file or if the file has not been registered then returns an InvalidReference. The returned reference is only valid so long as the registered file does not change. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00158">158</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

<p>Referenced by <a class="el" href="fontmanager_8cc_source.html#l00069">ion::text::FontManager::AddFontFromZipasset()</a>, <a class="el" href="calltracehandler_8cc_source.html#l00041">ion::remote::CallTraceHandler::HandleRequest()</a>, <a class="el" href="resourcehandler_8cc_source.html#l00965">ion::remote::ResourceHandler::HandleRequest()</a>, <a class="el" href="settinghandler_8cc_source.html#l00093">ion::remote::SettingHandler::HandleRequest()</a>, <a class="el" href="tracinghandler_8cc_source.html#l00331">ion::remote::TracingHandler::HandleRequest()</a>, <a class="el" href="nodegraphhandler_8cc_source.html#l00066">ion::remote::NodeGraphHandler::HandleRequest()</a>, and <a class="el" href="shaderhandler_8cc_source.html#l00372">ion::remote::ShaderHandler::HandleRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="a75d9a3fa1b6be41288d54aeb508b0cc9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ion::base::ZipAssetManager::GetFileDataNoCache </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>As above but the decompressed bytes are not internally cached. </p>
<p>Returns true if <code>filename</code> is found or false otherwise. If file data is already cached for <code>filename</code> then this method will clear that cached data. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00164">164</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

<p>References <a class="el" href="invalid_8h_source.html#l00041">ion::base::IsInvalidReference()</a>.</p>

</div>
</div>
<a class="anchor" id="a794cfdfe38a87e91ca3cf580aa02fbe7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const std::string &gt; ion::base::ZipAssetManager::GetFileDataPtr </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the shared pointer to the data of the passed filename if the manager contains it. </p>
<p>If there is any error while decompressing the file or if the file has not been registered then returns an empty shared pointer. The returned "string" data in the pointer may change if the file changes. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00147">147</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

<p>References <a class="el" href="invalid_8h_source.html#l00041">ion::base::IsInvalidReference()</a>.</p>

</div>
</div>
<a class="anchor" id="a3472ed97bdc8c2d4f4e2812d62b70370"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; ion::base::ZipAssetManager::GetRegisteredFileNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the list of registered filenames. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00138">138</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1070c8b8186f0fe478574ce3934a1853"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ion::base::ZipAssetManager::IsFileCached </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the file is cached in the manager. </p>
<p>A file is cached once it has been requested with GetFileData. Returns false if the manager does not contain the file. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00130">130</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aeba016f307839373110a520787fd3b72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ion::base::ZipAssetManager::RegisterAssetData </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsize__t.html">size_t</a>&#160;</td>
          <td class="paramname"><em>data_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a data pointer with a certain length with the manager. </p>
<p>The data pointer must be valid at least as long as it takes for all of its files to be requested through <a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ac8896dd2df7c9cd65241835ce0ad9ca7" title="Returns the data of the passed filename if the manager contains it. ">GetFileData()</a>. Returns if the data is actual zipped data and was successfully registered. Note that if any of the files in the passed data have already been registered, the last version to be registered will be returned from <a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ac8896dd2df7c9cd65241835ce0ad9ca7" title="Returns the data of the passed filename if the manager contains it. ">GetFileData()</a>. This replacement of existing data invalidates any use of previous return values of <a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#ac8896dd2df7c9cd65241835ce0ad9ca7" title="Returns the data of the passed filename if the manager contains it. ">GetFileData()</a> for the replaced file. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00050">50</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

<p>References <a class="el" href="base_2logging_8h_source.html#l00331">DCHECK</a>, <a class="el" href="base_2logging_8h_source.html#l00332">DCHECK_EQ</a>, <a class="el" href="base_2logging_8h_source.html#l00230">DLOG</a>, <a class="el" href="scopedallocation_8h_source.html#l00090">ion::base::ScopedAllocation&lt; T &gt;::Get()</a>, <a class="el" href="fileutils_8cc_source.html#l00040">ion::port::GetCanonicalFilePath()</a>, <a class="el" href="fileutils_8cc_source.html#l00074">ion::port::GetFileModificationTime()</a>, <a class="el" href="allocator_8h_source.html#l00036">ion::base::kShortTerm</a>, <a class="el" href="stringutils_8h_source.html#l00102">ion::base::RemovePrefix()</a>, <a class="el" href="stringutils_8cc_source.html#l00187">ion::base::SplitString()</a>, <a class="el" href="stringutils_8h_source.html#l00076">ion::base::StartsWith()</a>, and <a class="el" href="port_2logging_8h_source.html#l00028">ion::port::WARNING</a>.</p>

</div>
</div>
<a class="anchor" id="ae219a57a726224de1d47e470c8a2c14b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ion::base::ZipAssetManager::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the manager back to its initial, empty state. </p>
<p>This is used primarily for testing and should generally not be necessary elsewhere. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00242">242</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

<p>Referenced by <a class="el" href="zipassetmanager_8cc_source.html#l00046">~ZipAssetManager()</a>.</p>

</div>
</div>
<a class="anchor" id="ae751230dfb005615f08aa7fde0f5fe36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ion::base::ZipAssetManager::SaveFileData </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to save the latest cached data of the passed filename back to the original source file on disk, using the name in the internal manifest. </p>
<p>Returns whether the file was successfully written. This may fail if the file does not exist, is not writable, or if filename does not appear in the manifest (e.g., if it was registered manually through <a class="el" href="classion_1_1base_1_1_zip_asset_manager.html#aeba016f307839373110a520787fd3b72" title="Registers a data pointer with a certain length with the manager. ">RegisterAssetData()</a>), or if the manager does not contain the file. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00223">223</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

<p>References <a class="el" href="invalid_8h_source.html#l00041">ion::base::IsInvalidReference()</a>, and <a class="el" href="fileutils_8cc_source.html#l00180">ion::port::OpenFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a21b2c39f0d42856fa29bb431db09257e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ion::base::ZipAssetManager::SetFileData </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the data of the passed filename if the manager contains it. </p>
<p>Returns whether the source was succesfully updated (e.g., that the manager contains filename). Note that changing file data invalidates any existing returned reference from GetFileData for that file. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00209">209</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3febd8c88bb42b9ca4845c217c0ff113"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ion::base::ZipAssetManager::UpdateFileIfChanged </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::system_clock::time_point *&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the source file of a zipped file is available on disk (based on the file's manifest), this function updates the cached unzipped data from the source file if it has changed since the data was registered and the source file is readable. </p>
<p>Reads the modification time of the passed filename into <code>timestamp</code> and returns true iff the manager contains the file and it is available; false otherwise. </p>

<p>Definition at line <a class="el" href="zipassetmanager_8cc_source.html#l00252">252</a> of file <a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a>.</p>

<p>References <a class="el" href="fileutils_8cc_source.html#l00074">ion::port::GetFileModificationTime()</a>, <a class="el" href="calltracemanager_8cc_source.html#l00042">length</a>, and <a class="el" href="fileutils_8cc_source.html#l00180">ion::port::OpenFile()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>base/<a class="el" href="zipassetmanager_8h_source.html">zipassetmanager.h</a></li>
<li>base/<a class="el" href="zipassetmanager_8cc_source.html">zipassetmanager.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceion.html">ion</a></li><li class="navelem"><a class="el" href="namespaceion_1_1base.html">base</a></li><li class="navelem"><a class="el" href="classion_1_1base_1_1_zip_asset_manager.html">ZipAssetManager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
