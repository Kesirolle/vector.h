<!--
Copyright 2017 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.


-->
<!DOCTYPE html>
<html>
  <head>
    <title>Ion Remote Interface - Call Trace (Redirect)</title>
  </head>
  <body>
    If you see this page, then your browser didn't automatically redirect to
    the call trace viewing page.  Please click on the link below:
    <br />

    <a href="javascript:go_wtf();">
      Open WTF trace
    </a>
    <br />

    If that link isn't working, point your browser to the URL below:
    <br />

    <div id="here">
    </div>

    <script type="text/javascript">
      // Remove "/index.html" suffix if it exists.
      var docurl = document.URL;
      if (docurl.indexOf("/index.html", docurl.length - 11) !== -1) {
        docurl = docurl.substring(0, docurl.length - 11);
      }

      // Construct the redirect URL to open the traces directly.
      var redirect = docurl + '/app/maindisplay.html?url=' +
          docurl + '/call.wtf-trace';
      document.getElementById('here').innerHTML = redirect;


      function go_wtf() {
        window.location.replace(redirect);
      }

      // Redirect to the viewer page immediately.
      go_wtf();
    </script>
  </body>
</html>
